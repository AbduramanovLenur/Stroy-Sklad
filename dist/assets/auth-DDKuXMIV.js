import{_ as x,u as F,a as H,b as K,r as i,c as O,d,e,t as l,w as j,f as N,g as S,v as z,h as n,i as L,j as E,k as I,l as R,m as V,o as p,p as A,n as G}from"./index--8tqH1cI.js";import{u as J,r as k,m as Q}from"./i18n-validators-ifF63VWe.js";import{c as W}from"./secondary-functions-ph_-mLzy.js";import{r as X,u as Y}from"./generic.services-lNDsx7jF.js";const Z="/assets/logo-auth-H25DvOh-.svg",ee=t=>X({url:"account/Login",method:"POST",body:t}),se=t=>(A("data-v-c713ab37"),t=t(),G(),t),ae={class:"auth"},oe={class:"container"},te={class:"auth__inner"},re={class:"auth__wrapper"},le=se(()=>e("div",{class:"auth__logo"},[e("img",{src:Z,alt:"logo",width:"415",height:"80",loading:"lazy"})],-1)),ne={class:"auth__title"},ue={class:"auth__label"},ce=["placeholder"],ie={key:0,class:"error-white"},de={class:"auth__label"},pe={class:"auth__label-wrapper"},_e=["type","placeholder"],he={key:0,class:"error-white"},me={class:"auth__submit",type:"submit"},ve={__name:"auth",setup(t){const D=R();F(),H();const M=K(),{setUser:P}=M,u=i(!1),a=i({userName:"",password:""}),U=O(()=>({userName:{required:k},password:{required:k,minLength:Q}})),o=J(U,a);i([{id:1,label:"loginLabel",type:"text",model:"userName",name:"login",placeholder:"loginPlaceholder",errorKey:"userName"},{id:2,label:"passwordLabel",type:"password",model:"password",name:"password",placeholder:"passwordPlaceholder",errorKey:"password"}]);const{mutate:B}=Y({mutationFn:s=>ee(s),onSuccess:s=>{s&&(P(s),D.push("/"),a.value=W(a.value),o.value.$reset())}}),T=()=>{o.value.$validate(),!o.value.$errors.length&&B(a.value)};return(s,r)=>{var _,h,m,v,w,g,b,f,$,y;const C=V("Icon"),q=V("SwitcherLang");return p(),d("section",ae,[e("div",oe,[e("div",te,[e("div",re,[le,e("h2",ne,l(s.$t("login")),1),e("form",{class:"auth__form",onSubmit:j(T,["prevent"])},[e("label",ue,[N(l(s.$t("loginLabel"))+" ",1),S(e("input",{class:"auth__input",type:"text","onUpdate:modelValue":r[0]||(r[0]=c=>a.value.userName=c),placeholder:s.$t("loginPlaceholder")},null,8,ce),[[z,a.value.userName]]),(h=(_=n(o))==null?void 0:_.userName)!=null&&h.$error?(p(),d("span",ie,l((w=(v=(m=n(o))==null?void 0:m.userName)==null?void 0:v.$errors[0])==null?void 0:w.$message),1)):L("",!0)]),e("label",de,[N(l(s.$t("passwordLabel"))+" ",1),e("span",pe,[S(e("input",{class:"auth__input",type:u.value?"text":"password","onUpdate:modelValue":r[1]||(r[1]=c=>a.value.password=c),placeholder:s.$t("passwordPlaceholder")},null,8,_e),[[E,a.value.password]]),e("span",{class:"auth__label-icon",onClick:r[2]||(r[2]=()=>u.value=!u.value)},[I(C,{name:"eye"})])]),(b=(g=n(o))==null?void 0:g.password)!=null&&b.$error?(p(),d("span",he,l((y=($=(f=n(o))==null?void 0:f.password)==null?void 0:$.$errors[0])==null?void 0:y.$message),1)):L("",!0)]),e("button",me,l(s.$t("loginButton")),1)],32),I(q)])])])])}}},$e=x(ve,[["__scopeId","data-v-c713ab37"]]);export{$e as default};
//# sourceMappingURL=auth-DDKuXMIV.js.map
