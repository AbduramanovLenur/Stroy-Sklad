import{u as S,a as T,r as f,c as q,d as h,e as v,k as g,h as o,w as D,F as U,C as x,D as $,l as E,m as s,o as n,B as y,A as H,f as C,t as B}from"./index-qZ69CyC7.js";import{u as I,r as Q}from"./i18n-validators-dGSGbQKY.js";import{a as R,u as L}from"./generic.services-34GP1Yc8.js";import{c as O}from"./crud.services-qYEmjzHd.js";const A={class:"manage section-height shadowed"},j={class:"manage__inner section-padding"},Z={__name:"create",setup(z){const l=R(),V=E();S(),T();const r=f({fullname:""}),b=q(()=>({fullname:{required:Q}})),a=I(b,r),w=f([{id:1,model:"fullname",label:"nameProductsLabel",placeholder:"nameProductsPlaceholder",icon:"pen",errorKey:"fullname"}]),{mutate:N}=L({mutationFn:t=>O("construction_material",t),onSuccess:()=>{l.invalidateQueries({queryKey:["products"]}),l.invalidateQueries({queryKey:["materials"]}),V.push(y.PRODUCTS.path)}}),P=()=>{a.value.$validate(),!a.value.$errors.length&&(N(r.value),a.value.$reset())};return(t,G)=>{var u,m;const k=s("ManageHead"),F=s("FormInput"),K=s("CustomButton");return n(),h("section",A,[v("div",j,[g(k,{title:"addNewProductTitle",to:o(y).PRODUCTS.path},null,8,["to"]),v("form",{class:"manage__form form-manage",onSubmit:D(P,["prevent"])},[(n(!0),h(U,null,x(w.value,e=>{var c,d,i,p,_;return n(),H(F,{key:e.id,modelValue:r.value[e.model],"onUpdate:modelValue":M=>r.value[e.model]=M,width:500,placeholder:t.$t(e.placeholder),name:e.icon,error:(d=(c=o(a))==null?void 0:c[e.errorKey])==null?void 0:d.$error,textError:(_=(p=(i=o(a))==null?void 0:i[e.errorKey])==null?void 0:p.$errors[0])==null?void 0:_.$message},{default:$(()=>[C(B(t.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","name","error","textError"])}),128)),g(K,{className:`form__submit ${(m=(u=o(a))==null?void 0:u.fullname.$errors[0])!=null&&m.$message?"centered":""}`},{default:$(()=>[C(B(t.$t("formButton")),1)]),_:1},8,["className"])],32)])])}}};export{Z as default};
//# sourceMappingURL=create-sdU7Kd8H.js.map
