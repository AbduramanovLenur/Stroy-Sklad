import{_ as V,n as H,s as K,q as L,r as v,x as z,b as T,d as F,f as E,k as e,y as C,l as i,t as J,h as a,o as n,z as k}from"./index-aAHAkCbm.js";import{a as M,u as R}from"./generic.services-D-eFd5m9.js";import{u as U}from"./useQuery-qPEyASMo.js";import{g as W,d as $}from"./crud.services-QO0ozX9D.js";import{r as G}from"./index-dkOyFgsE.js";const X={class:"object section-height"},Y={class:"object__inner section-padding"},Z={key:2,class:"empty-table"},ee={__name:"index",async setup(te){let s,r;const l=M(),u=H(),{setSearchValue:d}=u,{page:b,limit:_,search:w}=K(u);L(()=>{d("")});const m=v(""),p=G(w,500),B=v([{id:1,label:"objectName",width:385},{id:2,label:"objectOrganization",width:480},{id:3,label:"objectAddress",width:185},{id:4,label:"objectState",width:255},{id:5,label:"objectAction",width:255}]),{data:o,isLoading:O,isSuccess:c,isError:q}=([s,r]=z(()=>U({queryKey:["objects",{page:b,limit:_,debouncedSearch:p}],queryFn:()=>W("building_object",b.value,_.value,p.value)})),s=await s,r(),s),{mutate:A}=R({mutationFn:t=>$("building_object",t),onSuccess:()=>{l.invalidateQueries({queryKey:["objects"]}),l.invalidateQueries({queryKey:["objectById",m]})}}),x=async t=>{m.value=t,A(t)};return(t,y)=>{var h,j,S,g,f;const D=a("HeadPage"),P=a("Table"),I=a("Pagination"),N=a("Spinner");return n(),T("section",X,[F("div",Y,[E(D,{title:"objectTitle",to:e(k).CREATE_OBJECTS.path,onOnSearch:y[0]||(y[0]=Q=>e(d)(Q))},null,8,["to"]),e(c)&&((h=e(o))!=null&&h.count)?(n(),C(P,{key:0,headers:B.value,table:(j=e(o))==null?void 0:j.objects,to:e(k).UPDATE_OBJECTS.name,onOnActionDelete:x},null,8,["headers","table","to"])):i("",!0),E(I,{count:(S=e(o))==null?void 0:S.count,isSucces:e(c),isEmpty:!!((g=e(o))!=null&&g.count)},null,8,["count","isSucces","isEmpty"]),e(O)?(n(),C(N,{key:1})):i("",!0),e(c)&&!((f=e(o))!=null&&f.count)||e(q)?(n(),T("div",Z,J(t.$t("emptyTableTitle")),1)):i("",!0)])])}}},ie=V(ee,[["__scopeId","data-v-1646c8ed"]]);export{ie as default};
//# sourceMappingURL=index-FTONQxSZ.js.map
