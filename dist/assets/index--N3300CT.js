import{r as p,B as d,h}from"./index-3zRY4k0K.js";function f(t){return typeof t=="function"?t():h(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const s=()=>{};function b(t,n){function r(...e){return new Promise((o,i)=>{Promise.resolve(t(()=>n.apply(this,e),{fn:n,thisArg:this,args:e})).then(o).catch(i)})}return r}function T(t,n={}){let r,e,o=s;const i=u=>{clearTimeout(u),o(),o=s};return u=>{const l=f(t),c=f(n.maxWait);return r&&i(r),l<=0||c!==void 0&&c<=0?(e&&(i(e),e=null),Promise.resolve(u())):new Promise((a,m)=>{o=n.rejectOnCancel?m:a,c&&!e&&(e=setTimeout(()=>{r&&i(r),e=null,a(u())},c)),r=setTimeout(()=>{e&&i(e),e=null,a(u())},l)})}}function w(t,n=200,r={}){return b(T(n,r),t)}function W(t,n=200,r={}){const e=p(t.value),o=w(()=>{e.value=t.value},n,r);return d(t,()=>o()),e}export{W as r};
