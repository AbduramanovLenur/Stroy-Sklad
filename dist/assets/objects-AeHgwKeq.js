import"./i18n-validators-fwdRIkV7.js";import{r as j,u as v,a as A,b as C}from"./generic.services-rEPg925p.js";import{r as u,n as D,q as i,o as n,d as m,e as H,k as B,i as t,x as p,j as r,t as E}from"./index-2liaKmgz.js";const F=()=>j({url:"building_object/GetList",method:"GET"}),L=l=>j({url:`building_object/Delete/${l}`,method:"POST"}),N={class:"object"},G={class:"object__inner section-padding"},P={key:2,class:"empty-table"},K={__name:"objects",async setup(l){let s,d;const _=v(),y=u({search:""}),g=u([{id:1,label:"objectName"},{id:2,label:"objectOrganization"},{id:3,label:"objectAddress"},{id:4,label:"objectState"},{id:5,label:"objectAction"}]),{data:a,isLoading:h,isSuccess:b,isError:O}=([s,d]=D(()=>C({queryKey:["objects"],queryFn:()=>F()})),s=await s,d(),s),{mutate:S}=A({mutationFn:e=>L(e),onSuccess:()=>{_.invalidateQueries({queryKey:["objects"]})}}),k=async e=>{S(e)};return(e,o)=>{const T=i("HeadPage"),f=i("Table"),q=i("Spinner");return n(),m("section",N,[H("div",G,[B(T,{title:"objectTitle",onOnSearch:o[0]||(o[0]=c=>y.value.search=c),onOnOpenFormModal:o[1]||(o[1]=()=>e.companiesHandler("create"))}),t(b)&&t(a).length?(n(),p(f,{key:0,headers:g.value,table:t(a),onOnActionEdit:o[2]||(o[2]=c=>e.companiesHandler("edit",c)),onOnActionDelete:k},null,8,["headers","table"])):r("",!0),t(h)?(n(),p(q,{key:1})):r("",!0),t(b)&&!t(a).length||t(O)?(n(),m("div",P,E(e.$t("emptyTableTitle")),1)):r("",!0)])])}}};export{K as default};
