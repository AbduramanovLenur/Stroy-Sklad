import{_ as x,u as F,a as H,b as K,r as p,c as O,d as _,e,t as l,w as j,f as L,g as k,v as z,h as u,i as I,j as E,k as V,l as R,m as D,o as h,p as A,n as G}from"./index-qZ69CyC7.js";import{u as J,r as M,m as Q}from"./i18n-validators-dGSGbQKY.js";import{r as W,u as X}from"./generic.services-34GP1Yc8.js";const Y="/assets/logo-auth-H25DvOh-.svg",Z=a=>{const n={...a};for(const c in n)n[c]="";return n},ee=a=>W({url:"account/Login",method:"POST",body:a}),se=a=>(A("data-v-c713ab37"),a=a(),G(),a),ae={class:"auth"},oe={class:"container"},te={class:"auth__inner"},re={class:"auth__wrapper"},le=se(()=>e("div",{class:"auth__logo"},[e("img",{src:Y,alt:"logo",width:"415",height:"80",loading:"lazy"})],-1)),ne={class:"auth__title"},ue={class:"auth__label"},ce=["placeholder"],ie={key:0,class:"error-white"},de={class:"auth__label"},pe={class:"auth__label-wrapper"},_e=["type","placeholder"],he={key:0,class:"error-white"},me={class:"auth__submit",type:"submit"},ve={__name:"auth",setup(a){const n=R();F(),H();const c=K(),{setUser:P}=c,i=p(!1),o=p({userName:"",password:""}),U=O(()=>({userName:{required:M},password:{required:M,minLength:Q}})),t=J(U,o);p([{id:1,label:"loginLabel",type:"text",model:"userName",name:"login",placeholder:"loginPlaceholder",errorKey:"userName"},{id:2,label:"passwordLabel",type:"password",model:"password",name:"password",placeholder:"passwordPlaceholder",errorKey:"password"}]);const{mutate:B}=X({mutationFn:s=>ee(s),onSuccess:s=>{s&&(P(s),n.push("/"),o.value=Z(o.value),t.value.$reset())}}),T=()=>{t.value.$validate(),!t.value.$errors.length&&B(o.value)};return(s,r)=>{var m,v,w,g,b,f,$,y,N,S;const C=D("Icon"),q=D("SwitcherLang");return h(),_("section",ae,[e("div",oe,[e("div",te,[e("div",re,[le,e("h2",ne,l(s.$t("login")),1),e("form",{class:"auth__form",onSubmit:j(T,["prevent"])},[e("label",ue,[L(l(s.$t("loginLabel"))+" ",1),k(e("input",{class:"auth__input",type:"text","onUpdate:modelValue":r[0]||(r[0]=d=>o.value.userName=d),placeholder:s.$t("loginPlaceholder")},null,8,ce),[[z,o.value.userName]]),(v=(m=u(t))==null?void 0:m.userName)!=null&&v.$error?(h(),_("span",ie,l((b=(g=(w=u(t))==null?void 0:w.userName)==null?void 0:g.$errors[0])==null?void 0:b.$message),1)):I("",!0)]),e("label",de,[L(l(s.$t("passwordLabel"))+" ",1),e("span",pe,[k(e("input",{class:"auth__input",type:i.value?"text":"password","onUpdate:modelValue":r[1]||(r[1]=d=>o.value.password=d),placeholder:s.$t("passwordPlaceholder")},null,8,_e),[[E,o.value.password]]),e("span",{class:"auth__label-icon",onClick:r[2]||(r[2]=()=>i.value=!i.value)},[V(C,{name:"eye"})])]),($=(f=u(t))==null?void 0:f.password)!=null&&$.$error?(h(),_("span",he,l((S=(N=(y=u(t))==null?void 0:y.password)==null?void 0:N.$errors[0])==null?void 0:S.$message),1)):I("",!0)]),e("button",me,l(s.$t("loginButton")),1)],32),V(q)])])])])}}},fe=x(ve,[["__scopeId","data-v-c713ab37"]]);export{fe as default};
//# sourceMappingURL=auth--MwoSc7P.js.map
