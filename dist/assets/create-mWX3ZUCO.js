import{u as F,a as S,r as h,c as T,b as v,d as $,f as N,A as r,w as K,F as q,e as M,k as s,g as L,h as n,o as l,i as u,t as m,y as P,z as Q}from"./index-F4UHGcq2.js";import{u as U,r as y}from"./i18n-validators-75GrrNwC.js";import{a as A,u as D}from"./generic.services-wQ89JmWC.js";import{c as H}from"./crud.services-rreQBCQx.js";const R={class:"manage section-height"},X={class:"manage__inner section-padding"},Z={__name:"create",setup(j){const E=A(),I=L();F(),S();const t=h({fullName:"",organizationId:""}),V=T(()=>({fullName:{required:y},organizationId:{required:y}})),o=U(V,t),b=h([{id:1,model:"fullName",label:"nameExpensesLabel",placeholder:"nameExpensesPlaceholder",icon:"input-company",errorKey:"fullName"}]),{mutate:B}=D({mutationFn:a=>H("cost",a),onSuccess:()=>{E.invalidateQueries({queryKey:["expenses"]}),I.push(Q.EXPENSES.path)}}),x=()=>{t.value.organizationId=1,o.value.$validate(),!o.value.$errors.length&&(B(t.value),o.value.$reset())};return(a,G)=>{var c,i;const z=n("Title"),C=n("FormInput"),k=n("CustomButton");return l(),v("section",R,[$("div",X,[N(z,null,{default:r(()=>[u(`\r
                `+m(a.$t("addNewExpensesTitle"))+`\r
            `,1)]),_:1}),$("form",{class:"manage__form form-manage",onSubmit:K(x,["prevent"])},[(l(!0),v(q,null,M(b.value,e=>{var d,p,f,_,g;return l(),P(C,{key:e.id,modelValue:t.value[e.model],"onUpdate:modelValue":w=>t.value[e.model]=w,width:500,placeholder:a.$t(e.placeholder),name:e.icon,error:(p=(d=s(o))==null?void 0:d[e.errorKey])==null?void 0:p.$error,textError:(g=(_=(f=s(o))==null?void 0:f[e.errorKey])==null?void 0:_.$errors[0])==null?void 0:g.$message},{default:r(()=>[u(m(a.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","name","error","textError"])}),128)),N(k,{className:`form__submit ${(i=(c=s(o))==null?void 0:c.fullName.$errors[0])!=null&&i.$message?"centered":""}`},{default:r(()=>[u(m(a.$t("formButton")),1)]),_:1},8,["className"])],32)])])}}};export{Z as default};
//# sourceMappingURL=create-mWX3ZUCO.js.map
