import{_ as C,u as M,a as S,c as $,r as u,B as w,m as r,o as l,d as n,e as p,t,F as v,C as I,A as _,D as c,f as i,k as A,K as D,q as N}from"./index-Su5VrTfH.js";const T={class:"estimate-form"},U={class:"estimate-form__title"},L={class:"estimate-form__overlay form-manage"},q={__name:"EstimateForm",props:["selects","blockId"],emits:["onAddTable","onChangeBlock"],setup(m,{emit:f}){const b=M(),{t:h}=S(),k=m,B=f,s=$(()=>k.blockId),o=u({buildingBlockId:s.value||"",floorId:[],costId:[],constructionMaterailIds:[],price:""});w(s,a=>{o.value.buildingBlockId=a,o.value.floorId=[]});const g=u([{id:1,model:"price",label:"priceEstimateLabel",placeholder:"priceEstimatePlaceholder",icon:"money"}]),y=()=>{const a=D(o.value);if(!a&&!o.value.buildingBlockId&&(o.value.buildingBlockId=s.value),!a){b.error(h("isEmptyModal"));return}o.value={buildingBlockId:o.value.buildingBlockId,floorId:o.value.floorId[0],costId:o.value.costId[0],constructionMaterailIds:o.value.constructionMaterailIds,price:parseInt(o.value.price.replaceAll(" ",""),10)},B("onAddTable",o.value),o.value=N(o.value,["buildingBlockId"])};return(a,H)=>{const F=r("FormSelect"),V=r("FormInput"),E=r("CustomButton");return l(),n("div",T,[p("h4",U,t(a.$t("estimateInfo")),1),p("div",L,[(l(!0),n(v,null,I(m.selects,e=>(l(),_(F,{key:e.id,modelValue:o.value[e.model],"onUpdate:modelValue":d=>o.value[e.model]=d,modelModifiers:{trim:!0},width:500,options:e.options,placeholder:e==null?void 0:e.placeholder,success:e.success,loading:e.loading,isMultiSelect:e==null?void 0:e.multiple},{default:c(()=>[i(t(a.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","placeholder","success","loading","isMultiSelect"]))),128)),(l(!0),n(v,null,I(g.value,e=>(l(),_(V,{key:e.id,modelValue:o.value[e.model],"onUpdate:modelValue":d=>o.value[e.model]=d,width:500,placeholder:a.$t(e.placeholder),name:e.icon,type:e==null?void 0:e.type},{default:c(()=>[i(t(a.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","name","type"]))),128)),A(E,{className:"form__submit",type:"button",onClick:y},{default:c(()=>[i(t(a.$t("addButtonForm")),1)]),_:1})])])}}},P=C(q,[["__scopeId","data-v-b28d18fe"]]);export{P as E};
