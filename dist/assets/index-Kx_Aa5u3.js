import{a as k,u as E}from"./generic.services-zAUdS-UM.js";import{u as T,g as q,d as D}from"./crud.services-AVFHJS4I.js";import{r as s,n as I,b as h,d as N,f as P,k as e,q as _,l as r,t as B,h as l,o as n,s as g}from"./index-uEOOChHm.js";const O={class:"company section-height"},Q={class:"company__inner section-padding"},H={key:2,class:"empty-table"},x={__name:"index",async setup(K){let a,c;const d=k(),o=s(""),u=s(""),y=s([{id:1,label:"organizationName",width:220},{id:2,label:"organizationInn",width:115},{id:3,label:"organizationRegion",width:215},{id:4,label:"organizationDistrict",width:155},{id:5,label:"organizationAddress",width:200},{id:6,label:"organizationPhone",width:170},{id:7,label:"organizationDirector",width:245},{id:7,label:"organizationState",width:100},{id:8,label:"organizationAction",width:130}]),{data:i,isLoading:b,isSuccess:m,isError:w}=([a,c]=I(()=>T({queryKey:["companies",o],queryFn:()=>q("organization",o.value)})),a=await a,c(),a),{mutate:z}=E({mutationFn:t=>D("organization",t),onSuccess:()=>{d.invalidateQueries({queryKey:["companies"]}),d.invalidateQueries({queryKey:["companiesById",u]})}}),C=t=>{u.value=t,z(t)};return(t,p)=>{const S=l("HeadPage"),v=l("Table"),f=l("Spinner");return n(),h("section",O,[N("div",Q,[P(S,{title:"comapnyTitle",to:e(g).CREATE_COMPANIES.path,onOnSearch:p[0]||(p[0]=A=>o.value=A)},null,8,["to"]),e(m)&&e(i).length?(n(),_(v,{key:0,headers:y.value,table:e(i),to:e(g).UPDATE_COMPANIES.name,onOnActionDelete:C},null,8,["headers","table","to"])):r("",!0),e(b)?(n(),_(f,{key:1})):r("",!0),e(m)&&!e(i).length||e(w)?(n(),h("div",H,B(t.$t("emptyTableTitle")),1)):r("",!0)])])}}};export{x as default};
//# sourceMappingURL=index-Kx_Aa5u3.js.map
