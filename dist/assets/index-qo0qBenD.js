import{a as w,u as B}from"./generic.services-7m30tS8d.js";import{u as E}from"./useQuery-AF2H1NfV.js";import{g as O,d as A}from"./crud.services-Elnq-5Yr.js";import{_ as q,r as n,x,b,d as D,f as I,k as e,y as m,l as c,t as N,h as i,o,z as p}from"./index-TXMqmpIt.js";const Q={class:"object section-height"},H={class:"object__inner section-padding"},K={key:2,class:"empty-table"},L={__name:"index",async setup(P){let s,r;const l=w(),y=n(""),d=n(""),h=n([{id:1,label:"objectName",width:385},{id:2,label:"objectOrganization",width:480},{id:3,label:"objectAddress",width:185},{id:4,label:"objectState",width:255},{id:5,label:"objectAction",width:255}]),{data:a,isLoading:j,isSuccess:u,isError:g}=([s,r]=x(()=>E({queryKey:["objects"],queryFn:()=>O("building_object")})),s=await s,r(),s),{mutate:f}=B({mutationFn:t=>A("building_object",t),onSuccess:()=>{l.invalidateQueries({queryKey:["objects"]}),l.invalidateQueries({queryKey:["objectById",d]})}}),S=async t=>{d.value=t,f(t)};return(t,_)=>{const v=i("HeadPage"),T=i("Table"),C=i("Spinner");return o(),b("section",Q,[D("div",H,[I(v,{title:"objectTitle",to:e(p).CREATE_OBJECTS.path,onOnSearch:_[0]||(_[0]=k=>y.value=k)},null,8,["to"]),e(u)&&e(a).length?(o(),m(T,{key:0,headers:h.value,table:e(a),to:e(p).UPDATE_OBJECTS.name,onOnActionDelete:S},null,8,["headers","table","to"])):c("",!0),e(j)?(o(),m(C,{key:1})):c("",!0),e(u)&&!e(a).length||e(g)?(o(),b("div",K,N(t.$t("emptyTableTitle")),1)):c("",!0)])])}}},M=q(L,[["__scopeId","data-v-0ac8e067"]]);export{M as default};
//# sourceMappingURL=index-qo0qBenD.js.map
