import{_ as j,u as x,a as z,b as R,r as I,c as A,d as u,e,t as n,w as G,f as k,g as L,v as J,h as l,i as _,j as K,k as h,F as Q,l as W,m as p,o as i,p as X,n as Y,q as Z,s as ss}from"./index-OVII3y0P.js";import{u as es,r as V,m as ts}from"./i18n-validators-2JY7RdOE.js";import{r as as,u as os}from"./generic.services-XQd1T_L7.js";const rs="/assets/logo-auth-H25DvOh-.svg",ns=o=>as({url:"account/Login",method:"POST",body:o}),ls=o=>(X("data-v-63fc6745"),o=o(),Y(),o),us={class:"auth"},is={class:"container"},cs={class:"auth__inner"},ds={class:"auth__wrapper"},_s=ls(()=>e("div",{class:"auth__logo"},[e("img",{src:rs,alt:"logo",width:"415",height:"80",loading:"lazy"})],-1)),hs={class:"auth__title"},ps={class:"auth__label"},ms=["placeholder"],vs={key:0,class:"error-white"},gs={class:"auth__label"},ws={class:"auth__label-wrapper"},fs=["type","placeholder"],$s={key:0,class:"error-white"},Ss={class:"auth__submit",type:"submit"},bs={key:0,class:"loading"},ys={__name:"auth",setup(o){const M=W(),T=x(),{t:D}=z(),U=R(),{setUser:B}=U,c=I(!1),t=I({userName:"",password:""}),F=A(()=>({userName:{required:V},password:{required:V,minLength:ts}})),a=es(F,t),{mutate:q,isLoading:C}=os({mutationFn:s=>ns(s),onSuccess:s=>{s!=null&&s.success&&(B(s==null?void 0:s.data),t.value=Z(t.value),a.value.$reset(),M.push(ss.HOME.path),setTimeout(()=>T.success(D("signInToast")),150))}}),H=()=>{a.value.$validate(),!a.value.$errors.length&&q(t.value)};return(s,r)=>{var m,v,g,w,f,$,S,b,y,N;const O=p("Icon"),P=p("SwitcherLang"),E=p("Spinner");return i(),u(Q,null,[e("section",us,[e("div",is,[e("div",cs,[e("div",ds,[_s,e("h2",hs,n(s.$t("login")),1),e("form",{class:"auth__form",onSubmit:G(H,["prevent"])},[e("label",ps,[k(n(s.$t("loginLabel"))+" ",1),L(e("input",{class:"auth__input",type:"text","onUpdate:modelValue":r[0]||(r[0]=d=>t.value.userName=d),placeholder:s.$t("loginPlaceholder")},null,8,ms),[[J,t.value.userName,void 0,{trim:!0}]]),(v=(m=l(a))==null?void 0:m.userName)!=null&&v.$error?(i(),u("span",vs,n((f=(w=(g=l(a))==null?void 0:g.userName)==null?void 0:w.$errors[0])==null?void 0:f.$message),1)):_("",!0)]),e("label",gs,[k(n(s.$t("passwordLabel"))+" ",1),e("span",ws,[L(e("input",{class:"auth__input",type:c.value?"text":"password","onUpdate:modelValue":r[1]||(r[1]=d=>t.value.password=d),placeholder:s.$t("passwordPlaceholder")},null,8,fs),[[K,t.value.password,void 0,{trim:!0}]]),e("span",{class:"auth__label-icon",onClick:r[2]||(r[2]=()=>c.value=!c.value)},[h(O,{name:"eye"})])]),(S=($=l(a))==null?void 0:$.password)!=null&&S.$error?(i(),u("span",$s,n((N=(y=(b=l(a))==null?void 0:b.password)==null?void 0:y.$errors[0])==null?void 0:N.$message),1)):_("",!0)]),e("button",Ss,n(s.$t("loginButton")),1)],32),h(P)])])])]),l(C)?(i(),u("div",bs,[h(E)])):_("",!0)],64)}}},Ls=j(ys,[["__scopeId","data-v-63fc6745"]]);export{Ls as default};
