import{_ as V,n as H,s as K,q as L,r as f,x as z,b as v,d as F,f as T,k as e,y as E,l as i,t as J,h as a,o as n,z as C}from"./index-W4j50O3a.js";import{a as M,u as R}from"./generic.services-ZP-K_-d6.js";import{u as U}from"./useQuery-5o_SWOVE.js";import{g as W,d as $}from"./crud.services-KnaxdDp-.js";import{r as G}from"./index-Ehwh-bR8.js";const X={class:"object section-height"},Y={class:"object__inner section-padding"},Z={key:2,class:"empty-table"},ee={__name:"index",async setup(te){let s,r;const l=M(),u=H(),{setSearchValue:d}=u,{page:b,limit:_,search:k}=K(u);L(()=>{d("")});const w=f(""),m=G(k,500),B=f([{id:1,label:"objectName",width:385},{id:2,label:"objectOrganization",width:480},{id:3,label:"objectAddress",width:185},{id:4,label:"objectState",width:255},{id:5,label:"objectAction",width:255}]),{data:o,isLoading:O,isSuccess:c,isError:q}=([s,r]=z(()=>U({queryKey:["objects",{page:b,limit:_,debouncedSearch:m}],queryFn:()=>W("building_object",b.value,_.value,m.value)})),s=await s,r(),s),{mutate:A}=R({mutationFn:t=>$("building_object",t),onSuccess:()=>{l.invalidateQueries({queryKey:["objects"]}),l.invalidateQueries({queryKey:["objectById"]})}}),x=async t=>{w.value=t,A(t)};return(t,p)=>{var y,h,j,S,g;const D=a("HeadPage"),P=a("Table"),I=a("Pagination"),N=a("Spinner");return n(),v("section",X,[F("div",Y,[T(D,{title:"objectTitle",to:e(C).CREATE_OBJECTS.path,onOnSearch:p[0]||(p[0]=Q=>e(d)(Q))},null,8,["to"]),e(c)&&((y=e(o))!=null&&y.count)?(n(),E(P,{key:0,headers:B.value,table:(h=e(o))==null?void 0:h.objects,to:e(C).UPDATE_OBJECTS.name,onOnActionDelete:x},null,8,["headers","table","to"])):i("",!0),T(I,{count:(j=e(o))==null?void 0:j.count,isSucces:e(c),isEmpty:!!((S=e(o))!=null&&S.count)},null,8,["count","isSucces","isEmpty"]),e(O)?(n(),E(N,{key:1})):i("",!0),e(c)&&!((g=e(o))!=null&&g.count)||e(q)?(n(),v("div",Z,J(t.$t("emptyTableTitle")),1)):i("",!0)])])}}},ie=V(ee,[["__scopeId","data-v-d3d7c337"]]);export{ie as default};
//# sourceMappingURL=index-METliA27.js.map
