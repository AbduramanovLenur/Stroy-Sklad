import{u as P,a as S,r as h,c as K,b as v,d as $,f as y,A as r,w as q,F as E,e as M,k as s,g as U,h as n,o as l,i as u,t as c,y as x,z as D}from"./index-54gJSnYc.js";import{u as L,r as I}from"./i18n-validators-pivaBU2r.js";import{a as Q,u as R}from"./generic.services-AaJVcBS6.js";import{c as A}from"./crud.services-slk413uh.js";const H={class:"manage section-height"},O={class:"manage__inner section-padding"},Z={__name:"create",setup(j){const V=Q(),b=U();P(),S();const o=h({fullname:"",organizationId:""}),B=K(()=>({fullname:{required:I},organizationId:{required:I}})),t=L(B,o),C=h([{id:1,model:"fullname",label:"nameProductsLabel",placeholder:"nameProductsPlaceholder",icon:"pen",errorKey:"fullname"}]),{mutate:z}=R({mutationFn:e=>A("construction_material",e),onSuccess:()=>{V.invalidateQueries({queryKey:["products"]}),b.push(D.PRODUCTS.path)}}),N=()=>{const e=localStorage.getItem("organizationId");o.value.organizationId=e,t.value.$validate(),!t.value.$errors.length&&(z(o.value),t.value.$reset())};return(e,G)=>{var m,d;const T=n("Title"),k=n("FormInput"),w=n("CustomButton");return l(),v("section",H,[$("div",O,[y(T,null,{default:r(()=>[u(`\r
                `+c(e.$t("addNewProductTitle"))+`\r
            `,1)]),_:1}),$("form",{class:"manage__form form-manage",onSubmit:q(N,["prevent"])},[(l(!0),v(E,null,M(C.value,a=>{var i,f,_,p,g;return l(),x(k,{key:a.id,modelValue:o.value[a.model],"onUpdate:modelValue":F=>o.value[a.model]=F,width:500,placeholder:e.$t(a.placeholder),name:a.icon,error:(f=(i=s(t))==null?void 0:i[a.errorKey])==null?void 0:f.$error,textError:(g=(p=(_=s(t))==null?void 0:_[a.errorKey])==null?void 0:p.$errors[0])==null?void 0:g.$message},{default:r(()=>[u(c(e.$t(a.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","name","error","textError"])}),128)),y(w,{className:`form__submit ${(d=(m=s(t))==null?void 0:m.fullname.$errors[0])!=null&&d.$message?"centered":""}`},{default:r(()=>[u(c(e.$t("formButton")),1)]),_:1},8,["className"])],32)])])}}};export{Z as default};
//# sourceMappingURL=create-gfXE_MEH.js.map
