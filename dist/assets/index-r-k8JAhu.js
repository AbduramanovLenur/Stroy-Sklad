import{_ as H,n as K,s as L,q as z,r as v,x as F,b as T,d as E,f as w,k as e,y as C,l as i,t as J,h as a,o as n,z as k}from"./index-F4UHGcq2.js";import{a as M,u as R}from"./generic.services-wQ89JmWC.js";import{u as U}from"./useQuery-ccCSBUF5.js";import{g as W,d as $}from"./crud.services-rreQBCQx.js";import{r as G}from"./index-V-M1nI8H.js";const X={class:"object section-height"},Y={class:"object__inner section-padding"},Z={class:"shadowed"},ee={key:2,class:"empty-table"},te={__name:"index",async setup(oe){let s,r;const l=M(),d=K(),{setSearchValue:u}=d,{page:b,limit:_,search:B}=L(d);z(()=>{u("")});const m=v(""),p=G(B,500),O=v([{id:1,label:"objectName",width:385},{id:2,label:"objectOrganization",width:480},{id:3,label:"objectAddress",width:185},{id:4,label:"objectState",width:255},{id:5,label:"objectAction",width:255}]),{data:o,isLoading:q,isSuccess:c,isError:A}=([s,r]=F(()=>U({queryKey:["objects",{page:b,limit:_,debouncedSearch:p}],queryFn:()=>W("building_object",b.value,_.value,p.value)})),s=await s,r(),s),{mutate:x}=R({mutationFn:t=>$("building_object",t),onSuccess:()=>{l.invalidateQueries({queryKey:["objects"]}),l.invalidateQueries({queryKey:["objectById",m]})}}),D=async t=>{m.value=t,x(t)};return(t,y)=>{var h,j,S,g,f;const P=a("HeadPage"),I=a("Table"),N=a("Pagination"),Q=a("Spinner");return n(),T("section",X,[E("div",Y,[w(P,{title:"objectTitle",to:e(k).CREATE_OBJECTS.path,onOnSearch:y[0]||(y[0]=V=>e(u)(V))},null,8,["to"]),E("div",Z,[e(c)&&((h=e(o))!=null&&h.count)?(n(),C(I,{key:0,headers:O.value,table:(j=e(o))==null?void 0:j.objects,to:e(k).UPDATE_OBJECTS.name,onOnActionDelete:D},null,8,["headers","table","to"])):i("",!0),w(N,{count:(S=e(o))==null?void 0:S.count,isSucces:e(c),isEmpty:!!((g=e(o))!=null&&g.count)},null,8,["count","isSucces","isEmpty"]),e(q)?(n(),C(Q,{key:1})):i("",!0),e(c)&&!((f=e(o))!=null&&f.count)||e(A)?(n(),T("div",ee,J(t.$t("emptyTableTitle")),1)):i("",!0)])])])}}},re=H(te,[["__scopeId","data-v-c14f1a42"]]);export{re as default};
//# sourceMappingURL=index-r-k8JAhu.js.map
