import{_ as S,u as $,a as I,b as V,r as h,c as k,o as l,d as n,e as a,t as c,w as D,F as L,f as B,g as K,h as N,v as T,i as _,j as z,k as F,S as M,p as H,l as P}from"./index-2liaKmgz.js";import{u as U,c as j}from"./secondary-functions-iCQIgTok.js";import{r as m,m as q}from"./i18n-validators-fwdRIkV7.js";const x="/assets/logo-auth-H25DvOh-.svg",A=t=>(H("data-v-f064a195"),t=t(),P(),t),C={class:"auth"},E={class:"container"},O={class:"auth__inner"},R={class:"auth__wrapper"},G=A(()=>a("div",{class:"auth__logo"},[a("img",{src:x,alt:"logo",width:"415",height:"80",loading:"lazy"})],-1)),J={class:"auth__title"},Q=["type","onUpdate:modelValue","name","placeholder"],W={key:0,class:"error-white"},X={class:"auth__submit",type:"submit"},Y={__name:"auth",setup(t){const p=$(),g=I(),{t:v}=V(),s=h({login:"",password:""}),f=k(()=>({login:{required:m},password:{required:m,minLength:q}})),o=U(f,s),w=h([{id:1,label:"loginLabel",type:"text",model:"login",name:"login",placeholder:"loginPlaceholder",errorKey:"login"},{id:2,label:"passwordLabel",type:"password",model:"password",name:"password",placeholder:"passwordPlaceholder",errorKey:"password"}]),y=()=>{o.value.$validate(),!o.value.$errors.length&&(s.value.login==="root"?(localStorage.setItem("role","superadmin"),localStorage.setItem("organization","Microsoft Academy")):(localStorage.setItem("role","orgadmin"),localStorage.setItem("organization","Tashkilot")),s.value=j(s.value),o.value.$reset(),p.push("/"),g.success(v("signInToast")))};return(r,Z)=>(l(),n("section",C,[a("div",E,[a("div",O,[a("div",R,[G,a("h2",J,c(r.$t("login")),1),a("form",{class:"auth__form",onSubmit:D(y,["prevent"])},[(l(!0),n(L,null,B(w.value,e=>{var i,d,u;return l(),n("label",{key:e.id,class:"auth__label"},[K(c(r.$t(e.label))+" ",1),N(a("input",{class:"auth__input",type:e.type,"onUpdate:modelValue":b=>s.value[e.model]=b,name:e.name,placeholder:r.$t(e.placeholder)},null,8,Q),[[T,s.value[e.model]]]),(i=_(o))!=null&&i[e.errorKey].$error?(l(),n("span",W,c((u=(d=_(o))==null?void 0:d[e.errorKey].$errors[0])==null?void 0:u.$message),1)):z("",!0)])}),128)),a("button",X,c(r.$t("loginButton")),1)],32),F(M)])])])]))}},oe=S(Y,[["__scopeId","data-v-f064a195"]]);export{oe as default};
