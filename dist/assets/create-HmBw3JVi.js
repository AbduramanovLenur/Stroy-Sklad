import{u as M,a as K,r as _,c as q,b as f,d as h,j as g,g as s,w as H,F as I,B as P,C as v,k as T,l as r,o as n,A as N,z as L,e as $,t as E}from"./index-u_2KKI46.js";import{u as Q,r as U}from"./i18n-validators-SGtCpuoI.js";import{a as X,u as j}from"./generic.services-Zkt5ZkSV.js";import{c as z}from"./crud.services-WcX_HSPp.js";const A={class:"manage section-height shadowed"},D={class:"manage__inner section-padding"},Z={__name:"create",setup(R){const y=X(),B=T();M(),K();const o=_({fullName:""}),V=q(()=>({fullName:{required:U}})),a=Q(V,o),b=_([{id:1,model:"fullName",label:"nameExpensesLabel",placeholder:"nameExpensesPlaceholder",icon:"input-company",errorKey:"fullName"}]),{mutate:x}=j({mutationFn:t=>z("cost",t),onSuccess:()=>{y.invalidateQueries({queryKey:["expenses"]}),B.push(N.EXPENSES.path)}}),C=()=>{a.value.$validate(),!a.value.$errors.length&&(x(o.value),a.value.$reset())};return(t,G)=>{var l,u;const S=r("ManageHead"),w=r("FormInput"),k=r("CustomButton");return n(),f("section",A,[h("div",D,[g(S,{title:"addNewExpensesTitle",to:s(N).EXPENSES.path},null,8,["to"]),h("form",{class:"manage__form form-manage",onSubmit:H(C,["prevent"])},[(n(!0),f(I,null,P(b.value,e=>{var m,c,d,i,p;return n(),L(w,{key:e.id,modelValue:o.value[e.model],"onUpdate:modelValue":F=>o.value[e.model]=F,width:500,placeholder:t.$t(e.placeholder),name:e.icon,error:(c=(m=s(a))==null?void 0:m[e.errorKey])==null?void 0:c.$error,textError:(p=(i=(d=s(a))==null?void 0:d[e.errorKey])==null?void 0:i.$errors[0])==null?void 0:p.$message},{default:v(()=>[$(E(t.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","name","error","textError"])}),128)),g(k,{className:`form__submit ${(u=(l=s(a))==null?void 0:l.fullName.$errors[0])!=null&&u.$message?"centered":""}`},{default:v(()=>[$(E(t.$t("formButton")),1)]),_:1},8,["className"])],32)])])}}};export{Z as default};
//# sourceMappingURL=create-HmBw3JVi.js.map
