import{_ as x,h as I,i as U,r as o,j as A,o as i,c as g,a as _,f as m,k as c,d as u,t as y,F as V,b as K,l as E,m as p,w as C}from"./index-F3pJcoaz.js";import{u as H,a as R,T as q,F as j,A as D,b as G,c as J,C as Q,d as W,r}from"./CustomButton-QW_-v3xg.js";const X={class:"employees"},Y={class:"employees__inner"},Z={class:"employees__head"},ee={__name:"employees",setup(oe){const b=I(),{t:f}=U(),L=H(),{toggleIsOpenModalForm:w}=L,v=o(""),$=o("");o("");const s=o({fullName:"",login:"",password:"",phone:"",organization:"",role:""}),P=A(()=>({fullName:{required:r},login:{required:r},password:{required:r},phone:{required:r},organization:{required:r},role:{required:r}}));o([{id:1,label:"employeesFullName",width:300},{id:2,label:"employeesOrganization",width:320},{id:3,label:"employeesPhone",width:255},{id:4,label:"employeesRole",width:195},{id:5,label:"employeesState",width:250},{id:8,label:"employeesAction",width:190}]);const S=o([{id:1,model:"fullName",label:"employeesFullNameLabel",placeholder:"employeesFullNamePlaceholder",icon:"person",errorKey:"fullName"},{id:2,model:"login",label:"employeesLoginLabel",placeholder:"employeesLoginPlaceholder",icon:"login",errorKey:"login"},{id:3,model:"password",label:"employeesPasswordLabel",placeholder:"employeesPasswordPlaceholder",icon:"password",errorKey:"password"},{id:4,model:"phone",label:"employeesPhoneLabel",placeholder:"employeesPhonePlaceholder",icon:"phone",errorKey:"phone"}]),T=o([{id:1,option:"Навои обл."},{id:2,option:"Самарканд обл."},{id:3,option:"Ташкент обл."}]),z=o([{id:1,option:"Навои"},{id:2,option:"Самарканд"},{id:3,option:"Ташкент"}]),B=o([{id:1,model:"organization",label:"employeesOrganizationLabel",options:T,errorKey:"organization"},{id:2,model:"role",label:"employeesRoleLabel",options:z,errorKey:"role"}]),l=R(P,s),k=a=>{console.log(a)},M=()=>{v.value="addNewEmployeesTitle",$.value="create",w()},O=()=>{l.value.$validate(),l.value.$errors.length||($.value==="create"?(console.log("create"),b.success(f("createEmployeesToast"))):(console.log("update"),b.success(f("updateEmployeesToast"))),w()),console.log("invalid")};return(a,le)=>(i(),g("section",X,[_("div",Y,[_("div",Z,[m(q,null,{default:c(()=>[u(`\r
                    `+y(a.$t("employeesTitle"))+`\r
                `,1)]),_:1}),m(j,{onOnSearch:k}),m(D,{onOnOpenFormModal:M})])]),m(W,{title:v.value},{default:c(()=>{var F,N;return[_("form",{class:"employees__form",onSubmit:C(O,["prevent"])},[(i(!0),g(V,null,K(S.value,e=>{var t,n,d;return i(),E(G,{key:e.id,width:500,placeholder:a.$t(e.placeholder),name:e.icon,modelValue:s.value[e.model],"onUpdate:modelValue":h=>s.value[e.model]=h,error:(t=p(l))==null?void 0:t[e.errorKey].$error,textError:(d=(n=p(l))==null?void 0:n[e.errorKey].$errors[0])==null?void 0:d.$message},{default:c(()=>[u(y(a.$t(e.label)),1)]),_:2},1032,["placeholder","name","modelValue","onUpdate:modelValue","error","textError"])}),128)),(i(!0),g(V,null,K(B.value,e=>{var t,n,d;return i(),E(J,{key:e.id,width:500,modelValue:s.value[e.model],"onUpdate:modelValue":h=>s.value[e.model]=h,options:e.options,error:(t=p(l))==null?void 0:t[e.errorKey].$error,textError:(d=(n=p(l))==null?void 0:n[e.errorKey].$errors[0])==null?void 0:d.$message},{default:c(()=>[u(y(a.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error","textError"])}),128)),m(Q,{className:`form__submit ${(N=(F=p(l))==null?void 0:F.role.$errors[0])!=null&&N.$message?"centered":""}`},{default:c(()=>[u(y(a.$t("formButton")),1)]),_:1},8,["className"])],32)]}),_:1},8,["title"])]))}},se=x(ee,[["__scopeId","data-v-52c171ee"]]);export{se as default};
