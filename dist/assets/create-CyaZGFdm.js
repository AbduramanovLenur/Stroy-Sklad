import{u as S,a as T,r as f,c as q,b as h,d as g,j as v,g as o,w as U,F as x,B as D,C as $,k as E,l as s,o as n,A as y,z as H,e as C,t as B}from"./index-u_2KKI46.js";import{u as I,r as Q}from"./i18n-validators-SGtCpuoI.js";import{a as R,u as L}from"./generic.services-Zkt5ZkSV.js";import{c as O}from"./crud.services-WcX_HSPp.js";const j={class:"manage section-height shadowed"},z={class:"manage__inner section-padding"},Z={__name:"create",setup(A){const l=R(),V=E();S(),T();const r=f({fullname:""}),b=q(()=>({fullname:{required:Q}})),a=I(b,r),w=f([{id:1,model:"fullname",label:"nameProductsLabel",placeholder:"nameProductsPlaceholder",icon:"pen",errorKey:"fullname"}]),{mutate:N}=L({mutationFn:t=>O("construction_material",t),onSuccess:()=>{l.invalidateQueries({queryKey:["products"]}),l.invalidateQueries({queryKey:["materials"]}),V.push(y.PRODUCTS.path)}}),P=()=>{a.value.$validate(),!a.value.$errors.length&&(N(r.value),a.value.$reset())};return(t,G)=>{var u,m;const k=s("ManageHead"),F=s("FormInput"),K=s("CustomButton");return n(),h("section",j,[g("div",z,[v(k,{title:"addNewProductTitle",to:o(y).PRODUCTS.path},null,8,["to"]),g("form",{class:"manage__form form-manage",onSubmit:U(P,["prevent"])},[(n(!0),h(x,null,D(w.value,e=>{var c,d,i,p,_;return n(),H(F,{key:e.id,modelValue:r.value[e.model],"onUpdate:modelValue":M=>r.value[e.model]=M,width:500,placeholder:t.$t(e.placeholder),name:e.icon,error:(d=(c=o(a))==null?void 0:c[e.errorKey])==null?void 0:d.$error,textError:(_=(p=(i=o(a))==null?void 0:i[e.errorKey])==null?void 0:p.$errors[0])==null?void 0:_.$message},{default:$(()=>[C(B(t.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","name","error","textError"])}),128)),v(K,{className:`form__submit ${(m=(u=o(a))==null?void 0:u.fullname.$errors[0])!=null&&m.$message?"centered":""}`},{default:$(()=>[C(B(t.$t("formButton")),1)]),_:1},8,["className"])],32)])])}}};export{Z as default};
//# sourceMappingURL=create-CyaZGFdm.js.map
