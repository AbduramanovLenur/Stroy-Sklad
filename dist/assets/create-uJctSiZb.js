import{u as w,a as F,r as h,c as T,b as v,d as $,f as N,A as r,w as K,F as q,e as M,k as s,g as L,h as n,o as l,i as u,t as m,y as P,z as Q}from"./index-aAHAkCbm.js";import{u as U,r as y}from"./i18n-validators-t01tIlx8.js";import{a as A,u as D}from"./generic.services-D-eFd5m9.js";import{c as H}from"./crud.services-QO0ozX9D.js";const R={class:"manage section-height"},X={class:"manage__inner section-padding"},Z={__name:"create",setup(j){const E=A(),I=L();w(),F();const t=h({fullName:"",organizationId:""}),V=T(()=>({fullName:{required:y},organizationId:{required:y}})),o=U(V,t),b=h([{id:1,model:"fullName",label:"nameExpensesLabel",placeholder:"nameExpensesPlaceholder",icon:"input-company",errorKey:"fullName"}]),{mutate:B}=D({mutationFn:e=>H("cost",e),onSuccess:()=>{E.invalidateQueries({queryKey:["expenses"]}),I.push(Q.EXPENSES.path)}}),x=()=>{const e=localStorage.getItem("organizationId");t.value.organizationId=e,o.value.$validate(),!o.value.$errors.length&&(B(t.value),o.value.$reset())};return(e,G)=>{var c,i;const z=n("Title"),C=n("FormInput"),S=n("CustomButton");return l(),v("section",R,[$("div",X,[N(z,null,{default:r(()=>[u(`\r
                `+m(e.$t("addNewExpensesTitle"))+`\r
            `,1)]),_:1}),$("form",{class:"manage__form form-manage",onSubmit:K(x,["prevent"])},[(l(!0),v(q,null,M(b.value,a=>{var d,p,f,_,g;return l(),P(C,{key:a.id,modelValue:t.value[a.model],"onUpdate:modelValue":k=>t.value[a.model]=k,width:500,placeholder:e.$t(a.placeholder),name:a.icon,error:(p=(d=s(o))==null?void 0:d[a.errorKey])==null?void 0:p.$error,textError:(g=(_=(f=s(o))==null?void 0:f[a.errorKey])==null?void 0:_.$errors[0])==null?void 0:g.$message},{default:r(()=>[u(m(e.$t(a.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","name","error","textError"])}),128)),N(S,{className:`form__submit ${(i=(c=s(o))==null?void 0:c.fullName.$errors[0])!=null&&i.$message?"centered":""}`},{default:r(()=>[u(m(e.$t("formButton")),1)]),_:1},8,["className"])],32)])])}}};export{Z as default};
//# sourceMappingURL=create-uJctSiZb.js.map
