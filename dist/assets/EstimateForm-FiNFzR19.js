import{_ as E,u as M,a as N,c as A,r as S,C as $,m as r,o as a,d as s,e as u,t as l,F as i,D as w,B as v,A as m,f as d,i as I,k as D,K as T,q as U}from"./index-QWM1teQg.js";const q={class:"estimate-form"},H={class:"estimate-form__title"},K={class:"estimate-form__overlay form-manage"},L={__name:"EstimateForm",props:{subFields:Array,blockId:Number},emits:["onAddTable","onChangeBlock"],setup(p,{emit:_}){const f=M(),{t:k}=N(),B=p,h=_,c=A(()=>B.blockId),o=S({buildingBlockId:c.value||"",floorId:[],costId:[],constructionMaterailIds:[],price:""});$(c,t=>{o.value.buildingBlockId=t,o.value.floorId=[]});const g=()=>{const t=T(o.value);if(!t&&!o.value.buildingBlockId&&(o.value.buildingBlockId=c.value),!t){f.error(k("isEmptyModal"));return}o.value={buildingBlockId:o.value.buildingBlockId,floorId:o.value.floorId[0],costId:o.value.costId[0],constructionMaterailIds:o.value.constructionMaterailIds,price:parseInt(o.value.price.replaceAll(" ",""),10)},h("onAddTable",o.value),o.value=U(o.value,["buildingBlockId"])};return(t,j)=>{const y=r("FormInput"),V=r("FormSelect"),C=r("CustomButton");return a(),s("div",q,[u("h4",H,l(t.$t("estimateInfo")),1),u("div",K,[(a(!0),s(i,null,w(p.subFields,e=>(a(),s(i,{key:e.id},[e!=null&&e.select?I("",!0):(a(),v(y,{key:0,modelValue:o.value[e.model],"onUpdate:modelValue":n=>o.value[e.model]=n,width:500,placeholder:t.$t(e.placeholder),name:e.icon,type:e==null?void 0:e.type},{default:m(()=>[d(l(t.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","name","type"])),e!=null&&e.select?(a(),v(V,{key:1,modelValue:o.value[e.model],"onUpdate:modelValue":n=>o.value[e.model]=n,modelModifiers:{trim:!0},width:500,options:e.options,placeholder:e==null?void 0:e.placeholder,success:e.success,loading:e.loading,isMultiSelect:e==null?void 0:e.multiple},{default:m(()=>[d(l(t.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","placeholder","success","loading","isMultiSelect"])):I("",!0)],64))),128)),D(C,{className:"form__submit",type:"button",onClick:g},{default:m(()=>[d(l(t.$t("addButtonForm")),1)]),_:1})])])}}},z=E(L,[["__scopeId","data-v-ade5d211"]]);export{z as E};
