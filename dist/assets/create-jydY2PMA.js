import{u as M,a as K,r as f,c as q,d as _,e as h,k as g,h as s,w as H,F as I,C as P,D as v,l as T,m as r,o as n,B as N,A as D,f as $,t as E}from"./index-8f2nY-tA.js";import{u as L,r as Q}from"./i18n-validators-fCwa1ZSs.js";import{a as U,u as X}from"./generic.services-2-3LJT-B.js";import{c as A}from"./crud.services-swolhUoO.js";const R={class:"manage section-height shadowed"},j={class:"manage__inner section-padding"},Z={__name:"create",setup(z){const y=U(),B=T();M(),K();const o=f({fullName:""}),V=q(()=>({fullName:{required:Q}})),a=L(V,o),x=f([{id:1,model:"fullName",label:"nameExpensesLabel",placeholder:"nameExpensesPlaceholder",icon:"input-company",errorKey:"fullName"}]),{mutate:C}=X({mutationFn:t=>A("cost",t),onSuccess:()=>{y.invalidateQueries({queryKey:["expenses"]}),B.push(N.EXPENSES.path)}}),S=()=>{a.value.$validate(),!a.value.$errors.length&&(C(o.value),a.value.$reset())};return(t,G)=>{var l,u;const b=r("ManageHead"),w=r("FormInput"),k=r("CustomButton");return n(),_("section",R,[h("div",j,[g(b,{title:"addNewExpensesTitle",to:s(N).EXPENSES.path},null,8,["to"]),h("form",{class:"manage__form form-manage",onSubmit:H(S,["prevent"])},[(n(!0),_(I,null,P(x.value,e=>{var m,c,d,i,p;return n(),D(w,{key:e.id,modelValue:o.value[e.model],"onUpdate:modelValue":F=>o.value[e.model]=F,width:500,placeholder:t.$t(e.placeholder),name:e.icon,error:(c=(m=s(a))==null?void 0:m[e.errorKey])==null?void 0:c.$error,textError:(p=(i=(d=s(a))==null?void 0:d[e.errorKey])==null?void 0:i.$errors[0])==null?void 0:p.$message},{default:v(()=>[$(E(t.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","name","error","textError"])}),128)),g(k,{className:`form__submit ${(u=(l=s(a))==null?void 0:l.fullName.$errors[0])!=null&&u.$message?"centered":""}`},{default:v(()=>[$(E(t.$t("formButton")),1)]),_:1},8,["className"])],32)])])}}};export{Z as default};
//# sourceMappingURL=create-jydY2PMA.js.map
