import{_ as E,h as I,i as x,r as o,j as A,o as s,c as b,a as y,f as c,k as m,d as u,t as h,F,b as V,l as K,m as p,w as U}from"./index-F3pJcoaz.js";import{u as D,a as H,T as q,F as j,A as R,b as G,c as J,C as Q,d as W,r as t}from"./CustomButton-QW_-v3xg.js";const X={class:"company"},Y={class:"company__inner"},Z={class:"company__head"},ee={__name:"company",setup(oe){const _=I(),{t:f}=x(),S=D(),{toggleIsOpenModalForm:z}=S,v=o(""),$=o("");o("");const n=o({name:"",tin:"",address:"",phone:"",director:"",region:"",district:""}),L=A(()=>({name:{required:t},tin:{required:t},address:{required:t},phone:{required:t},director:{required:t},region:{required:t},district:{required:t}}));o([{id:1,label:"organizationName",width:260},{id:2,label:"organizationInn",width:125},{id:3,label:"organizationRegion",width:225},{id:4,label:"organizationDistrict",width:110},{id:5,label:"organizationAddress",width:220},{id:6,label:"organizationPhone",width:175},{id:7,label:"organizationDirector",width:265},{id:8,label:"organizationAction",width:135}]);const N=o([{id:1,model:"name",label:"nameOrganizationLabel",placeholder:"nameOrganizationPlaceholder",icon:"input-company",errorKey:"name"},{id:2,model:"tin",label:"innOrganizationLabel",placeholder:"innOrganizationPlaceholder",icon:"tin",errorKey:"tin"},{id:3,model:"address",label:"addressOrganizationLabel",placeholder:"addressOrganizationPlaceholder",icon:"address",errorKey:"address"},{id:4,model:"phone",label:"phoneOrganizationLabel",placeholder:"phoneOrganizationPlaceholder",icon:"phone",errorKey:"phone"},{id:5,model:"director",label:"directorOrganizationLabel",placeholder:"directorOrganizationPlaceholder",icon:"person",errorKey:"director"}]),T=o([{id:1,option:"Навои обл."},{id:2,option:"Самарканд обл."},{id:3,option:"Ташкент обл."}]),B=o([{id:1,option:"Навои"},{id:2,option:"Самарканд"},{id:3,option:"Ташкент"}]),C=o([{id:1,model:"region",label:"regionOrganizationLabel",options:T,errorKey:"region"},{id:2,model:"district",label:"districtOrganizationLabel",options:B,errorKey:"district"}]),a=H(L,n),k=r=>{console.log(r)},M=()=>{v.value="addNewCompanyTitle",$.value="create",z()},P=()=>{a.value.$validate(),a.value.$errors.length||($.value==="create"?(console.log("create"),_.success(f("updateCompanyToast"))):(console.log("update"),_.success(f("createCompanyToast"))),z()),console.log("invalid")};return(r,ae)=>(s(),b("section",X,[y("div",Y,[y("div",Z,[c(q,null,{default:m(()=>[u(`\r
                    `+h(r.$t("comapnyTitle"))+`\r
                `,1)]),_:1}),c(j,{onOnSearch:k}),c(R,{onOnOpenFormModal:M})])]),c(W,{title:v.value},{default:m(()=>{var O,w;return[y("form",{class:"company__form",onSubmit:U(P,["prevent"])},[(s(!0),b(F,null,V(N.value,e=>{var l,i,d;return s(),K(G,{key:e.id,width:500,placeholder:r.$t(e.placeholder),name:e.icon,modelValue:n.value[e.model],"onUpdate:modelValue":g=>n.value[e.model]=g,error:(l=p(a))==null?void 0:l[e.errorKey].$error,textError:(d=(i=p(a))==null?void 0:i[e.errorKey].$errors[0])==null?void 0:d.$message},{default:m(()=>[u(h(r.$t(e.label)),1)]),_:2},1032,["placeholder","name","modelValue","onUpdate:modelValue","error","textError"])}),128)),(s(!0),b(F,null,V(C.value,e=>{var l,i,d;return s(),K(J,{key:e.id,width:500,modelValue:n.value[e.model],"onUpdate:modelValue":g=>n.value[e.model]=g,options:e.options,error:(l=p(a))==null?void 0:l[e.errorKey].$error,textError:(d=(i=p(a))==null?void 0:i[e.errorKey].$errors[0])==null?void 0:d.$message},{default:m(()=>[u(h(r.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error","textError"])}),128)),c(Q,{className:`form__submit ${(w=(O=p(a))==null?void 0:O.district.$errors[0])!=null&&w.$message?"centered":""}`},{default:m(()=>[u(h(r.$t("formButton")),1)]),_:1},8,["className"])],32)]}),_:1},8,["title"])]))}},ne=E(ee,[["__scopeId","data-v-f4fff905"]]);export{ne as default};
