import{_ as x,k as C,l as I,r as o,c as U,o as i,a as g,b as _,i as m,m as c,e as u,t as y,F as V,d as K,n as L,g as p,w as A}from"./index-hnUcF1dp.js";import{u as H,c as R,r as s,m as q}from"./secondary-functions-qAWKU19Y.js";import{u as D,a as Q,T as j,F as G,A as J,b as W,c as X,C as Y,d as Z}from"./CustomButton-jXuy4wRl.js";const ee={class:"employees"},oe={class:"employees__inner"},le={class:"employees__head"},ae={__name:"employees",setup(re){D();const b=C(),{t:f}=I(),E=Q(),{toggleIsOpenModalForm:v}=E,w=o(""),$=o("");o("");const a=o({id:"",fullName:"",login:"",password:"",phone:"",organization:"",role:""}),P=U(()=>({fullName:{required:s},login:{required:s},password:{required:s,minLength:q},phone:{required:s},organization:{required:s},role:{required:s}}));o([{id:1,label:"employeesFullName",width:300},{id:2,label:"employeesOrganization",width:320},{id:3,label:"employeesPhone",width:255},{id:4,label:"employeesRole",width:195},{id:5,label:"employeesState",width:250},{id:8,label:"employeesAction",width:190}]);const S=o([{id:1,model:"fullName",label:"employeesFullNameLabel",placeholder:"employeesFullNamePlaceholder",icon:"person",errorKey:"fullName"},{id:2,model:"login",label:"employeesLoginLabel",placeholder:"employeesLoginPlaceholder",icon:"login",errorKey:"login"},{id:3,model:"password",label:"employeesPasswordLabel",placeholder:"employeesPasswordPlaceholder",icon:"password",errorKey:"password"},{id:4,model:"phone",label:"employeesPhoneLabel",placeholder:"employeesPhonePlaceholder",icon:"phone",errorKey:"phone"}]),T=o([{id:1,option:"Навои обл."},{id:2,option:"Самарканд обл."},{id:3,option:"Ташкент обл."}]),z=o([{id:1,option:"Навои"},{id:2,option:"Самарканд"},{id:3,option:"Ташкент"}]),B=o([{id:1,model:"organization",label:"employeesOrganizationLabel",options:T,errorKey:"organization"},{id:2,model:"role",label:"employeesRoleLabel",options:z,errorKey:"role"}]),l=H(P,a),k=r=>{console.log(r)},M=()=>{w.value="addNewEmployeesTitle",$.value="create",v()},O=()=>{if(l.value.$validate(),!l.value.$errors.length){$.value==="create"?(console.log("create"),b.success(f("createEmployeesToast"))):(console.log("update"),b.success(f("updateEmployeesToast"))),v(),a.value=R(a.value),l.value.$reset();return}console.log("invalid")};return(r,se)=>(i(),g("section",ee,[_("div",oe,[_("div",le,[m(j,null,{default:c(()=>[u(`\r
                    `+y(r.$t("employeesTitle"))+`\r
                `,1)]),_:1}),m(G,{onOnSearch:k}),m(J,{onOnOpenFormModal:M})])]),m(Z,{title:w.value},{default:c(()=>{var F,N;return[_("form",{class:"employees__form",onSubmit:A(O,["prevent"])},[(i(!0),g(V,null,K(S.value,e=>{var t,n,d;return i(),L(W,{key:e.id,width:500,placeholder:r.$t(e.placeholder),name:e.icon,modelValue:a.value[e.model],"onUpdate:modelValue":h=>a.value[e.model]=h,error:(t=p(l))==null?void 0:t[e.errorKey].$error,textError:(d=(n=p(l))==null?void 0:n[e.errorKey].$errors[0])==null?void 0:d.$message},{default:c(()=>[u(y(r.$t(e.label)),1)]),_:2},1032,["placeholder","name","modelValue","onUpdate:modelValue","error","textError"])}),128)),(i(!0),g(V,null,K(B.value,e=>{var t,n,d;return i(),L(X,{key:e.id,width:500,modelValue:a.value[e.model],"onUpdate:modelValue":h=>a.value[e.model]=h,options:e.options,error:(t=p(l))==null?void 0:t[e.errorKey].$error,textError:(d=(n=p(l))==null?void 0:n[e.errorKey].$errors[0])==null?void 0:d.$message},{default:c(()=>[u(y(r.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error","textError"])}),128)),m(Y,{className:`form__submit ${(N=(F=p(l))==null?void 0:F.role.$errors[0])!=null&&N.$message?"centered":""}`},{default:c(()=>[u(y(r.$t("formButton")),1)]),_:1},8,["className"])],32)]}),_:1},8,["title"])]))}},ie=x(ae,[["__scopeId","data-v-5e009365"]]);export{ie as default};
