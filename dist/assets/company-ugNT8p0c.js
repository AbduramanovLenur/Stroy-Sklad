import{_ as E,k as I,l as x,r as o,c as A,o as d,a as b,b as y,i as c,m,e as p,t as h,F,d as V,n as K,g as u,w as U}from"./index-hnUcF1dp.js";import{u as D,c as H,r as n}from"./secondary-functions-qAWKU19Y.js";import{u as q,a as Q,T as R,F as j,A as G,b as J,c as W,C as X,d as Y}from"./CustomButton-jXuy4wRl.js";const Z={class:"company"},ee={class:"company__inner"},oe={class:"company__head"},ae={__name:"company",setup(re){q();const _=I(),{t:v}=x(),S=Q(),{toggleIsOpenModalForm:f}=S,z=o(""),$=o("");o("");const r=o({id:"",name:"",tin:"",address:"",phone:"",director:"",region:"",district:""}),C=A(()=>({name:{required:n},tin:{required:n},address:{required:n},phone:{required:n},director:{required:n},region:{required:n},district:{required:n}}));o([{id:1,label:"organizationName",width:260},{id:2,label:"organizationInn",width:125},{id:3,label:"organizationRegion",width:225},{id:4,label:"organizationDistrict",width:110},{id:5,label:"organizationAddress",width:220},{id:6,label:"organizationPhone",width:175},{id:7,label:"organizationDirector",width:265},{id:8,label:"organizationAction",width:135}]);const L=o([{id:1,model:"name",label:"nameOrganizationLabel",placeholder:"nameOrganizationPlaceholder",icon:"input-company",errorKey:"name"},{id:2,model:"tin",label:"innOrganizationLabel",placeholder:"innOrganizationPlaceholder",icon:"tin",errorKey:"tin"},{id:3,model:"address",label:"addressOrganizationLabel",placeholder:"addressOrganizationPlaceholder",icon:"address",errorKey:"address"},{id:4,model:"phone",label:"phoneOrganizationLabel",placeholder:"phoneOrganizationPlaceholder",icon:"phone",errorKey:"phone"},{id:5,model:"director",label:"directorOrganizationLabel",placeholder:"directorOrganizationPlaceholder",icon:"person",errorKey:"director"}]),N=o([{id:1,option:"Навои обл."},{id:2,option:"Самарканд обл."},{id:3,option:"Ташкент обл."}]),T=o([{id:1,option:"Навои"},{id:2,option:"Самарканд"},{id:3,option:"Ташкент"}]),B=o([{id:1,model:"region",label:"regionOrganizationLabel",options:N,errorKey:"region"},{id:2,model:"district",label:"districtOrganizationLabel",options:T,errorKey:"district"}]),a=D(C,r),k=t=>{console.log(t)},M=()=>{z.value="addNewCompanyTitle",$.value="create",f()},P=()=>{if(a.value.$validate(),!a.value.$errors.length){$.value==="create"?(console.log("create"),_.success(v("createCompanyToast"))):(console.log("update"),_.success(v("updateCompanyToast"))),f(),r.value=H(r.value),a.value.$reset();return}console.log("invalid")};return(t,te)=>(d(),b("section",Z,[y("div",ee,[y("div",oe,[c(R,null,{default:m(()=>[p(`\r
                    `+h(t.$t("comapnyTitle"))+`\r
                `,1)]),_:1}),c(j,{onOnSearch:k}),c(G,{onOnOpenFormModal:M})])]),c(Y,{title:z.value},{default:m(()=>{var O,w;return[y("form",{class:"company__form",onSubmit:U(P,["prevent"])},[(d(!0),b(F,null,V(L.value,e=>{var l,i,s;return d(),K(J,{key:e.id,width:500,placeholder:t.$t(e.placeholder),name:e.icon,modelValue:r.value[e.model],"onUpdate:modelValue":g=>r.value[e.model]=g,error:(l=u(a))==null?void 0:l[e.errorKey].$error,textError:(s=(i=u(a))==null?void 0:i[e.errorKey].$errors[0])==null?void 0:s.$message},{default:m(()=>[p(h(t.$t(e.label)),1)]),_:2},1032,["placeholder","name","modelValue","onUpdate:modelValue","error","textError"])}),128)),(d(!0),b(F,null,V(B.value,e=>{var l,i,s;return d(),K(W,{key:e.id,width:500,modelValue:r.value[e.model],"onUpdate:modelValue":g=>r.value[e.model]=g,options:e.options,error:(l=u(a))==null?void 0:l[e.errorKey].$error,textError:(s=(i=u(a))==null?void 0:i[e.errorKey].$errors[0])==null?void 0:s.$message},{default:m(()=>[p(h(t.$t(e.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error","textError"])}),128)),c(X,{className:`form__submit ${(w=(O=u(a))==null?void 0:O.district.$errors[0])!=null&&w.$message?"centered":""}`},{default:m(()=>[p(h(t.$t("formButton")),1)]),_:1},8,["className"])],32)]}),_:1},8,["title"])]))}},se=E(ae,[["__scopeId","data-v-559eebea"]]);export{se as default};
